<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Coding with APIs</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" type="text/css" href="stylesheets/styles.css">
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- Javascript -->
  <script type="text/javascript" src="js/main.js"></script>

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

</head>
<body>
  <main>
  <!-- Navigation -->
    <nav class="nav-bar">
      <img class="logo" src="images/ajax-logo.png">
      <ul class="links">
        <li>
            <a href="index.html">AJAX intro</a>
        </li>
        <li>
            <a href="apis.html">APIs</a>
        </li>
        <li>
            <a href="coding-api.html">Coding with APIs</a>
        </li>
        <li>
            <a href="variables.html">Working with variables</a>
        </li>
        <li>
            <a href="conditionals.html">Conditionals</a>
        </li>
        <li>
            <a href="booleans.html">Booleans</a>
        </li>
      </ul>

      <div class="footer">
        <p>&copy; 2015 Noel Zahra</p>
      </div>
    </nav>

  <!-- Content -->
    <div class="container intro">
      <h1>getJSON</h1>
      <p>In order to perform a <span class="green">get request</span> on some JSON data you can use the <span class="green">$.getJSON()</span> function. This function takes two parameters:</p>
      <ul class="list">
        <li><i class="fa fa-asterisk"></i> a URL</li>
        <li><i class="fa fa-asterisk"></i> function - defines what it needs to do with the JSON sent from the URL</li>
      </ul>
      <p>When you run the $.get() function, you will received a package of data from the OMDBapi server. You must put this data in the callback function.</p>
      <pre>
        <code>
             $('.button').on('click', function() {
               $.getJSON('http://omdbapi.com/?s=Star%20Wars&r=json',
              function(data) {
                var selection = data.Search[0].Title;
                var result = $('&lt;p&gt;' + selection + '&lt;/p&gt;');
                $('.output').append(result);
                console.log(data);
              });
            });
        </code>
      </pre>
      <p>The various properties of the JSON object canbe accessed</p>
      <pre>
        <code>
            $('.button-list').on('click', function() {
              $.getJSON('http://omdbapi.com/?s=Star%20Wars&r=json',
              function(data) {
                var selection = data.Search;
                $.each(selection, function(index, value) {
                  $('.list-all').append('&lt;p&gt;' + value.Title + '&lt;/p&gt;' );
                });
              });
          });
        </code>
      </pre>
    </div>
  <!-- END:Content -->
  </main>

</body>
</html>